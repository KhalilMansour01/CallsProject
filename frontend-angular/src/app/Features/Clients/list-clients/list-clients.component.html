<div class="container">
  <h2 class="page-title">Clients Dashboard</h2>
  <div class="search-bar">
    <input
      type="text"
      placeholder="Search Clients"
      [(ngModel)]="searchQuery"
      
      (input)="onSearch()"
    />
  </div>

  <div class="filter-row">
    <!-- Filter Options on the Left -->
    <div class="filter-options">
      <!-- Country Filter -->
      <div class="filter-item">
        <label for="countryFilter" class="filter-label">Country:</label>
        <select id="countryFilter" [(ngModel)]="selectedCountry" (change)="applyCountryFilter($event.target.value)">
          <option *ngFor="let key of countryKeys" [value]="key">{{ countryMap[key] }}</option>
        </select>
      </div>

      <!-- Region Filter -->
      <div class="filter-item">
        <label for="regionFilter" class="filter-label">Region:</label>
        <select id="regionFilter" [(ngModel)]="selectedRegion" (change)="applyRegionFilter($event.target.value)">
          <option *ngFor="let key of regionKeys" [value]="key">{{ regionMap[key] }}</option>
        </select>
      </div>

      <!-- Clear Filters Button -->
      <button (click)="clearFilters()" class="btn btn-clear">Clear Filters</button>

    </div>
    <!-- Add Client Button on the Right -->
    <button (click)="addClient()" class="btn btn-add">Add Client</button>
  </div>

  <table class="client-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Telephone</th>
        <th>Region</th>
        <th>Country</th>
        <th>Contact</th>
        <th>Email</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let client of clientsList; let i = index" [ngClass]="{'striped': i % 2 === 0}">
        <td>{{ client.id }}</td>
        <td>{{ getCivilName(client.cvlCode) }} {{ client.custName }}</td>
        <td>{{ client.tel1 }}</td>
        <td>{{ getRegionName(client.regCode) }}</td>
        <td>{{ getCountryName(client.cntrCode) }}</td>
        <td>{{ client.contact }}</td>
        <td>{{ client.email }}</td>
        <td>
          <div class="actions">
            <!-- <button (click)="editClient(client)" class="btn-action" title="Edit">
              <i class="fas fa-edit"></i>
            </button> -->
            <button (click)="viewClient(client)" class="btn-action" title="View">
              <i class="fas fa-eye"></i>
            </button>
            <button (click)="confirmDelete(client.id)" class="btn-action" title="Delete">
              <i class="fas fa-trash"></i>
            </button>
            
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</div>